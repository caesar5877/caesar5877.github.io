是小马今天继续为您分享 AWSECIS的课程哦今天是第五期今天咱们主题呢大家请看我的标题 ECS的服务结构也就是说 ECS都给咱们提供了哪些个基础概念呢在他的服务当中咱们都要了解哪些个必须要了解的基础知识呢小马呢把它称为 ES的服务结构今天呢咱们就来学习一下吧好的首先咱们先看一下今天的知识点就一个理解 ECS的服务结构在它的服务就业中都有哪些个概念这么马上进入纪念实战演习的步伐首先干什么首先咱们还是先看图说话今天呢真的是一张图给您打开一下大家仅看这张图这张图呢很清晰的描述了 ECS里面的所有的基础概念首先咱们大家看。最外边呢是一个 classer集群也就是说咱们想部署 ECS的时候咱们首先应该在咱们系统中生成一个服务器的集群这个集群呢有两种类型第八点类型它是黑盒的不用咱们去管底层的设施对吧还有一种呢是 EC2类型咱们需要维护自己的 EC2实力对吧那也就是说在咱们使用 ECeX之前其实咱们应该首先先建立一个咱们自己的集群跑跑这个呢是集群的概念接下来服务也就是说咱们有了集群了 ，那么咱们在这个集群里面要部署哪些个服务这个是根据您的系统设计所定的。比如说您想部署这个用户服务新轮服务博客服务行情服务等等那么您是把每一个服务并成单独的服务还是说在一个镜像里面部署多个服务只不过呢是以端口进行区分这个呢完全根据您的系统设计而定呢那么咱们如果想部署一个微服务的话 ，您就可以把它理解为是一个 survice就可以好那咱们再往上看咱们跳过他咱们相看容器的定义是这样什么叫做容器刚才跟您说的用户服务新闻服务博客服务等等这些呢您都可以把你解为是一个单独的服务咱们呢把它开发成或者说把它分装成一个刀客er单独的镜像它就是一个容器那么咱们在这个系统开发的时候其实呢就是在做容器的开发因为咱们在做系统开发的时候呢不牵扯到下面这三个概念对吧咱们每一个开发的组的成员咱们集中的精力呢是开发业务逻辑然后呢把咱们业务逻辑呢他封装成一个都可的容器镜像就够了对不对这个呢就是容器的概念它呢直接和咱们的业务挂钩。最后他这个概念什么意思是这样咱们如果想使用 ECDS的话咱们其实要定义多个服务对吧那么这个服务中该运行哪些个容器呢这个呢是通过定义 tak来决定的。咱们可以生成一个 tax包含一个容器比如说咱们生成一个用户 task好不好在里面呢咱们包含一个用户的容器然后呢咱们可以把这个 Tas呢发布到咱们的服务当中这个是完全没有问题的。红室大家请注意一个扒出当中还可以包含多个容器比如说咱们定义一个会员大那么咱们在会员 Tax里面咱们可以包括用户的管理的容器可以包括数据库维护的容器可以包括用户支付的容器都可以但是小马的给您的建议是咱们一个 task当中最好只包含一个容器并您的理解和整体项目的管理。好的 ，我们把这个看图书啊关掉接下来咱们就分别的看一下这四个基础概念集集体服务任务容器咱们该如何使用它咱们该以什么样的顺序使用它呢小马呢给出的使用步骤咱们一起来看一下吧好的使用步骤一共就四个首先咱们如果想用 ECS的话咱们先干什么到底呢第一步咱们先做容器的定义什么叫容器的定义大请看我一言以蔽之一句话已必之啊叫做系统设计用春开发对吧并且将咱们的微服务应用打包成系统容器用户容器行情容器新闻容器博客容器等等咱们能根据系统设计打咱们每一个小的功能可以单独打包成一个刀客容器让它提供单独单一的功能对吧毕竟咱们降低叙数统的偶合性也并咱们做自动的测试所以说呢咱们呢实际的业务开发或者说每天的开发工作呢都是在开发容器里面的业务逻辑好不好 OK业务逻辑开发完了咱们把它打包成都可镜像了接下来干什么大家请看咱们要做任务的定义刚才给您看到的他对方那么咱们怎么做咱们需要在 ECS当中定义出 ECS的任务并且呢将咱们刚刚打包好的多款容器呢指定为这个任务的容器这个地方呢咱们可以指定一个容器也可以指定多个不同的容器都是可以的但是刚刚小港说过建议您一个任务呢只包含一个容器好同时呢咱们不光可以指定容器在任务定义时呢还可以指定任务的执行方式以及需要的资源多少 CPU多少内存都可以指定好任务定义咱们做完之后接下来咱们要做集群的定义是这样咱们想部署任何的任务或服务的话咱们之前应该先定义集群怎么定义大型态为整体容器搭建一个运行环境分配资源比如说您采用哪个 VPC？您采用这个 VPC里面的哪些个子网等等呢在这个地方呢进行定义如果您要是使用 EC2鸡群的话您还要定义在这个集群当中您用到多少台 EC2的服务器每个服务器的 size太度是多少CPU给多少内存给多少在这地方呢您都要做统一的规划和第一好容器定义完之后接下来呢就可以启动服务了咱们刚才在第二步已经做好的任务定义那么接下来呢咱们可以单独启动一个任务等会呢来直接提供服务对吧也可以做成一个服务在这个服务当中定义多个任务然后呢也可以让他启动提供服务同时还可以加上LB进行负载均衡还可以加上 autosciling进行更大的扩张完成 scare out的功能这些呢都是完全的没有问题那么小马呢在今后的空中就会给大家这四部的进行详细的讲解那么咱们就一起学习一起加油吧好